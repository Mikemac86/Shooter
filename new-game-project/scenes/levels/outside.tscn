[gd_scene format=3 uid="uid://duyk3qhhnwid0"]

[ext_resource type="PackedScene" uid="uid://dxon0mk8dgivo" path="res://scenes/levels/level.tscn" id="1_2s4ok"]
[ext_resource type="Texture2D" uid="uid://wvnq82hqa0lg" path="res://graphics/ground/stones.png" id="2_ti38e"]
[ext_resource type="Script" uid="uid://dpgwdl771aanc" path="res://scenes/levels/outside.gd" id="2_tn0yi"]
[ext_resource type="PackedScene" uid="uid://cmy8yef3b7cwi" path="res://scenes/objects/gate.tscn" id="2_x73sx"]
[ext_resource type="Texture2D" uid="uid://bq5ayq18l7pbq" path="res://graphics/decals/dirt_patch.png" id="3_tn0yi"]
[ext_resource type="Texture2D" uid="uid://cglbo0ikqy14r" path="res://graphics/decals/blood.png" id="4_xorrk"]
[ext_resource type="Texture2D" uid="uid://clw4l4bvo2nhr" path="res://graphics/tilesets/outside_walls.png" id="5_wq65m"]
[ext_resource type="Texture2D" uid="uid://c7shvj3xlt2y8" path="res://graphics/tilesets/soil.png" id="6_qvsb0"]
[ext_resource type="PackedScene" uid="uid://b5ufijvcwe20j" path="res://scenes/objects/house.tscn" id="7_xqqjy"]
[ext_resource type="PackedScene" uid="uid://dajdoxm6uldgs" path="res://scenes/objects/steam_vent.tscn" id="8_ex6t8"]
[ext_resource type="Texture2D" uid="uid://le6j762iimqa" path="res://graphics/objects/infestation/large.png" id="10_bjulg"]
[ext_resource type="Texture2D" uid="uid://c8flldhhesqoj" path="res://graphics/objects/infestation/small.png" id="11_gd7nx"]
[ext_resource type="PackedScene" uid="uid://cpfvu6gh8gcwq" path="res://scenes/enemies/scout.tscn" id="11_xorrk"]
[ext_resource type="PackedScene" uid="uid://wr4gxqunqjmt" path="res://scenes/objects/box.tscn" id="11_xqqjy"]
[ext_resource type="Texture2D" uid="uid://v1g3sqw3akd0" path="res://graphics/objects/infestation/small_2.png" id="12_4lnny"]
[ext_resource type="PackedScene" uid="uid://cffu2sganoymb" path="res://scenes/enemies/bug.tscn" id="12_wq65m"]
[ext_resource type="Texture2D" uid="uid://cqmgl4m6stkp" path="res://graphics/objects/infestation/spikes.png" id="13_cnio0"]
[ext_resource type="PackedScene" uid="uid://b4x0ti130k8ak" path="res://scenes/enemies/car.tscn" id="14_xqqjy"]
[ext_resource type="PackedScene" uid="uid://ctf7k5kmdkh2a" path="res://scenes/enemies/hunter.tscn" id="18_gd7nx"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_x30qc"]
resource_name = "walls"
texture = ExtResource("5_wq65m")
texture_region_size = Vector2i(390, 390)
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-59.630157, -59.630157, 195, -65.90701, 195, 62.768585, -62.768585, 62.768585)
1:0/0 = 0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-195, -56.491714, 195, -65.90701, 195, 62.768585, -195, 56.49173)
2:0/0 = 0
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(59.630157, 59.630157, -195, 65.90701, -195, -62.768585, 62.768585, -62.768585)
0:1/0 = 0
0:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-53.353302, -59.630157, 69.04544, -59.630157, 62.768585, 195, -53.353302, 195)
1:1/0 = 0
1:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(195, 56.491714, 56.49173, 53.35327, 56.49173, 195, -62.768585, 195, -65.90701, -62.768585, 195, -62.768585)
2:1/0 = 0
2:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-56.491714, 195, -53.35327, 56.49173, -195, 56.49173, -195, -62.768585, 62.768585, -65.90701, 62.768585, 195)
0:2/0 = 0
0:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(56.491714, -195, 65.90701, 195, -62.768585, 195, -56.49173, -195)
1:2/0 = 0
1:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(56.491714, -195, 53.35327, -56.49173, 195, -56.49173, 195, 62.768585, -62.768585, 65.90701, -62.768585, -195)
2:2/0 = 0
2:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-195, -56.491714, -56.49173, -53.35327, -56.49173, -195, 62.768585, -195, 65.90701, 62.768585, -195, 62.768585)
0:3/0 = 0
0:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(53.353302, 59.630157, -69.04544, 59.630157, -62.768585, -195, 53.353302, -195)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_uaeil"]
resource_name = "soil"
texture = ExtResource("6_qvsb0")
texture_region_size = Vector2i(390, 390)
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
0:2/0 = 0
1:2/0 = 0
2:2/0 = 0

[sub_resource type="TileSet" id="TileSet_bjulg"]
tile_size = Vector2i(390, 390)
physics_layer_0/collision_layer = 4
physics_layer_0/collision_mask = 11
sources/0 = SubResource("TileSetAtlasSource_x30qc")
sources/1 = SubResource("TileSetAtlasSource_uaeil")

[sub_resource type="Curve2D" id="Curve2D_ex6t8"]
_data = {
"points": PackedVector2Array(452.89096, 524.4001, -452.89096, -524.4001, 7688, -2273, 0, 0, 0, 0, 10094, -3064, -1561.282, -131.10002, 1561.282, 131.10002, 15554, -2879, 0, 0, 0, 0, 18285, -474, -297.9546, -965.37286, 297.9546, 965.37286, 18599, 5268, 881.94556, 297.9546, -881.94556, -297.9546, 18512, 7229, 1132.2274, 214.5273, -1132.2274, -214.5273, 12065, 7273, 297.9546, 524.4, -297.9546, -524.4, 7732, 7002, -71.5091, 71.5091, 71.5091, -71.5091, 6800, 4629, 131.10002, 35.75455, -131.10002, -35.75455, 6746, 1476, 0, 0, 0, 0, 6811, 219, -429.0546, 0, 429.0546, 0, 7688, -2273)
}
point_count = 12

[sub_resource type="NavigationPolygon" id="NavigationPolygon_4lnny"]
vertices = PackedVector2Array(2520.3828, 2057.1406, 2461.3672, 2053.75, 2517.5313, 2049.3594, 2545.2266, 1636.7188, 2507.6406, 1964.1016, 2333.6875, 1488.4219, 589.0078, 6344.953, 595.9922, 6418.8203, -811.1172, 6397.1406, -579.14844, 5714, -825.8594, 5225.8438, -803, 5227.672, -768.7969, 5230.422, -803, 2983.3516, -184.09375, 3005, -768.35156, 5211.5234, 2703.6094, 2205.6016, 5681, 5620.492, 5681, 6492.9375, 4244, 6360.039, 1513.1563, 5714, 1504.8438, 5189.9297, 2166.3438, 2228.4219, -202, 2843.9063, -202, 2969.8828, -796, 2963.1094, -796, 1444.0313, 734.8203, 2852.0781, 1366.8984, 1450.9609, 1359.8984, 2198.9063, 1542, 2183.1719, 1542, 1362, 2137.3281, 1362, 4244, 6485.047, 2333.8828, 1472.9063, 5703.961, 1444.0781, 2726.3672, 1661.3203, 5689.0313, 5620.258, 752.3281, 2989.8203, -569.2031, 5205, -572.1406, 5246.211)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2), PackedInt32Array(3, 4, 5), PackedInt32Array(6, 7, 8, 9), PackedInt32Array(9, 8, 10, 11, 12), PackedInt32Array(11, 13, 14, 15), PackedInt32Array(16, 17, 18, 19, 20, 21, 22), PackedInt32Array(23, 24, 25, 26), PackedInt32Array(27, 23, 26, 28, 29), PackedInt32Array(30, 31, 32, 22), PackedInt32Array(18, 33, 19), PackedInt32Array(20, 19, 6, 9), PackedInt32Array(3, 5, 34, 35, 36), PackedInt32Array(16, 36, 35, 37, 17), PackedInt32Array(27, 29, 30, 22, 21, 38), PackedInt32Array(38, 21, 39, 14), PackedInt32Array(12, 40, 9), PackedInt32Array(15, 12, 11), PackedInt32Array(14, 39, 15)])
outlines = Array[PackedVector2Array]([PackedVector2Array(2535, 2068, 2309, 2055, 2309, 1450), PackedVector2Array(2509, 2040, 2554, 1648, 2716, 1670, 2694, 2196, 2176, 2218, 2147, 1352, 1532, 1352, 1532, 2174, 1370, 2188, 1377, 1441, -806, 1434, -806, 2973, -192, 2980, -192, 2854, 726, 2862, 741, 2980, -184, 2995, -813, 2973, -813, 5223, -569, 5215, 1495, 5200, 1503, 5704, -569, 5704, -562, 5237, -836, 5215, -821, 6407, 607, 6429, 600, 6355, 4234, 6370, 4234, 6495, 5691, 6503, 5691, 5630, 4641, 5644, 4641, 5570, 4241, 5563, 4248, 3987, 4655, 3987, 4648, 3631, 4115, 3631, 4093, 5696, 4641, 5726, 4663, 5659, 5699, 5630, 5714, 1434, 2324, 1463, 2317, 2055)])

[node name="Outside" unique_id=144900603 instance=ExtResource("1_2s4ok")]
script = ExtResource("2_tn0yi")

[node name="Blood" type="Sprite2D" parent="Decals" parent_id_path=PackedInt32Array(376010378) index="0" unique_id=1091705777]
position = Vector2(1312, 4127)
texture = ExtResource("4_xorrk")

[node name="DirtPatch" type="Sprite2D" parent="Decals" parent_id_path=PackedInt32Array(376010378) index="1" unique_id=1017120249]
position = Vector2(4306, 6886)
texture = ExtResource("3_tn0yi")

[node name="soil" type="Sprite2D" parent="Ground" parent_id_path=PackedInt32Array(2000864038) index="0" unique_id=1691296625]
z_index = -1
texture_repeat = 2
position = Vector2(930, 321)
texture = ExtResource("2_ti38e")
region_enabled = true
region_rect = Rect2(0, 0, 1000000, 1000000)

[node name="decoration" type="Sprite2D" parent="Ground/soil" index="0" unique_id=777686442]
modulate = Color(1, 0.7882353, 0.5058824, 1)
position = Vector2(-1099, 247)
texture = ExtResource("3_tn0yi")

[node name="Blood2" type="Sprite2D" parent="Ground" parent_id_path=PackedInt32Array(2000864038) index="1" unique_id=511620882]
position = Vector2(2068, 1195)
texture = ExtResource("4_xorrk")

[node name="TileMap" type="TileMap" parent="Ground" parent_id_path=PackedInt32Array(2000864038) index="2" unique_id=1241050651]
position = Vector2(81, 7)
tile_set = SubResource("TileSet_bjulg")
format = 2
layer_0/name = "Soil"
layer_0/tile_data = PackedInt32Array(5, 131073, 2, -65532, 1, 0, 4, 1, 2, -65531, 131073, 0, 0, 1, 0, 65536, 1, 1, 131072, 1, 1, 196608, 1, 1, 196609, 65537, 1, 131073, 65537, 1, 65537, 65537, 1, 1, 65537, 0, 2, 131073, 0, 65538, 131073, 1, 131074, 131073, 1, 196610, 131073, 1, 655367, 65537, 0, 655368, 131073, 0, 720904, 65537, 1, 720905, 131073, 0, 786441, 131073, 1, 851977, 131073, 2, 851976, 65537, 2, 851975, 65537, 2, 786439, 65537, 1, 786438, 1, 1, 720902, 1, 1, 655366, 1, 0, 720903, 65537, 1, 786440, 65537, 1, 851974, 1, 2)
layer_1/name = "Walls"
layer_1/tile_data = PackedInt32Array(-3, 65536, 1, -65536, 131072, 2, -65534, 65536, 2, -65533, 65536, 0, -65532, 65536, 0, -131072, 65536, 1, -131070, 131072, 1, -131071, 65536, 0, 65533, 0, 2, 131069, 0, 2, 196605, 0, 2, 262141, 0, 2, 262142, 0, 0, 262143, 65536, 0, 196608, 65536, 0, 196609, 65536, 0, 196610, 65536, 0, 196611, 131072, 1, 196613, 65536, 1, 196614, 65536, 0, 196615, 65536, 0, 196616, 65536, 0, 196617, 65536, 0, 196618, 65536, 0, 196619, 65536, 0, 196620, 65536, 0, 196621, 65536, 0, 196622, 131072, 1, -65530, 131072, 0, -65531, 65536, 0, -65525, 65536, 0, -65524, 65536, 0, -65523, 65536, 0, -65526, 0, 0, 262158, 0, 2, -65522, 131072, 2, -131058, 0, 2, -196594, 0, 2, -262130, 0, 2, -327666, 0, 2, -393202, 0, 2, -458738, 0, 2, -524274, 0, 2, -589810, 0, 2, -655346, 0, 2, -720882, 65536, 1, 327694, 0, 2, 393230, 0, 2, 458766, 0, 2, 524302, 0, 2, 589838, 0, 2, 655374, 0, 2, 720910, 0, 2, 786446, 0, 2, 851982, 0, 2, 917518, 0, 2, 983054, 0, 2, 1048590, 0, 2, 1114126, 0, 2, 1179662, 0, 2, 1245198, 0, 2, 1310734, 65536, 2, 1310735, 65536, 0, 1310736, 65536, 0, 1310737, 65536, 0, 1310738, 65536, 0, 1310739, 65536, 0, 1310740, 65536, 0, 1310741, 65536, 0, 1310742, 65536, 0, 1310743, 65536, 0, 1310744, 65536, 0, 1310745, 65536, 0, 1310746, 65536, 0, 1310747, 65536, 0, 1310748, 65536, 0, 1310749, 65536, 0, 1310750, 65536, 0, 1310751, 65536, 0, 1310752, 65536, 0, 1310753, 65536, 0, 1310754, 65536, 0, 1310755, 65536, 0, 1310756, 65536, 0, 1310757, 65536, 0, 1310758, 65536, 0, 1310759, 65536, 0, 1310760, 65536, 0, 1310761, 65536, 0, 1310762, 65536, 0, 1310763, 65536, 0, 1310764, 65536, 0, 1310765, 65536, 0, 1310766, 65536, 0, 1310767, 65536, 0, 1310768, 65536, 0, 1310769, 65536, 0, 1245234, 0, 2, 1179698, 0, 2, 1114162, 0, 2, 1048626, 0, 2, 983090, 0, 2, 917554, 0, 2, 852018, 0, 2, 786482, 0, 2, 720946, 0, 2, 655410, 0, 2, 589874, 0, 2, 524338, 0, 2, 458802, 0, 2, 393266, 0, 2, 327730, 0, 2, 262194, 0, 2, 196658, 0, 2, 131122, 0, 2, 65586, 0, 2, 50, 0, 2, -65486, 0, 2, -131022, 0, 2, -196558, 0, 2, -262094, 0, 2, -327630, 0, 2, -393166, 0, 2, -458702, 0, 2, -524238, 0, 2, -720881, 65536, 0, -720880, 65536, 0, -720879, 65536, 0, -720878, 65536, 0, -720877, 65536, 0, -720876, 65536, 0, -720875, 65536, 0, -720874, 65536, 0, -720873, 65536, 0, -720872, 65536, 0, -720871, 65536, 0, -720870, 65536, 0, -720869, 65536, 0, -720868, 65536, 0, -720867, 65536, 0, -720866, 65536, 0, -720865, 65536, 0, -720864, 65536, 0, -720863, 65536, 0, -720862, 65536, 0, -720861, 65536, 0, -720860, 65536, 0, -720859, 65536, 0, -720858, 65536, 0, -720857, 65536, 0, -720856, 65536, 0, -720855, 65536, 0, -720854, 65536, 0, -720853, 65536, 0, -720852, 65536, 0, -720851, 65536, 0, -720850, 65536, 0, -720849, 65536, 0, -720848, 65536, 0, -720847, 65536, 0, -720846, 131072, 1, -655310, 0, 2, -589774, 0, 2, 1310770, 131072, 2, 262147, 0, 2, 262149, 0, 2, 327685, 65536, 2, 327686, 131072, 2, 262150, 0, 1, 589828, 131072, 1, 589827, 65536, 1, 524294, 65536, 1, 524295, 65536, 0, 524296, 131072, 0, 589830, 0, 3, 655363, 0, 3, 655364, 0, 3, 327677, 0, 2, 393213, 0, 2, 458749, 0, 2, 524285, 0, 2, 589821, 0, 2, 655357, 0, 2, 720893, 0, 2, 786429, 0, 2, 851965, 0, 2, 917501, 0, 2, 983037, 0, 2, 1048573, 0, 2, 1114109, 0, 2, 1179645, 0, 2, 1245181, 0, 2, 1310717, 0, 2, 1376253, 65536, 2, 1376254, 65536, 0, 1376255, 65536, 0, 1310720, 65536, 0, 1310721, 65536, 0, 1310722, 65536, 0, 1310723, 65536, 0, 1310724, 65536, 0, 1310725, 65536, 0, 1310726, 65536, 0, 1310727, 65536, 0, 1310728, 65536, 0, 1310729, 65536, 0, 1310730, 65536, 0, 1310731, 65536, 0, 1310732, 65536, 0, 1310733, 65536, 0, 917503, 65536, 0, 851968, 65536, 0, 851969, 65536, 0, 851970, 65536, 0, 917502, 65536, 1, 983038, 65536, 2, 917507, 131072, 2, 851971, 131072, 1, 983039, 65536, 0, 917504, 65536, 0, 917505, 65536, 0, 917506, 65536, 0, 1048578, 65536, 0, 1048579, 65536, 0, 1048580, 65536, 0, 1048581, 65536, 0, 1048582, 65536, 0, 1048583, 65536, 0, 1048584, 65536, 0, 1048585, 65536, 0, 1179660, 65536, 0, 1179659, 65536, 1, 1179661, 131072, 1, 1245195, 0, 3, 1245197, 0, 3, 1048577, 0, 0, 1048586, 131072, 0, 851978, 0, 2, 786442, 0, 2, 720906, 0, 2, 655370, 0, 2, 589834, 65536, 1, 589835, 131072, 0, 917515, 131072, 0, 917514, 65536, 2, 458753, 131072, 0, 458752, 65536, 0, 524287, 0, 0, 327683, 0, 3)

[node name="Blood" type="Sprite2D" parent="Ground" parent_id_path=PackedInt32Array(2000864038) index="3" unique_id=1935039325]
position = Vector2(1230, 280)
texture = ExtResource("4_xorrk")

[node name="House" parent="Ground" parent_id_path=PackedInt32Array(2000864038) index="4" unique_id=2026117431 instance=ExtResource("7_xqqjy")]
position = Vector2(-2654, -2739)

[node name="SteamVent" parent="Ground" parent_id_path=PackedInt32Array(2000864038) index="5" unique_id=169540466 instance=ExtResource("8_ex6t8")]
position = Vector2(1593, 600)

[node name="Box" parent="Ground" parent_id_path=PackedInt32Array(2000864038) index="6" unique_id=2115512563 instance=ExtResource("11_xqqjy")]
position = Vector2(4963, 7378)

[node name="Box2" parent="Ground" parent_id_path=PackedInt32Array(2000864038) index="7" unique_id=683397142 instance=ExtResource("11_xqqjy")]
position = Vector2(933, 6620)

[node name="Box3" parent="Ground" parent_id_path=PackedInt32Array(2000864038) index="8" unique_id=2029242723 instance=ExtResource("11_xqqjy")]
position = Vector2(4445, 3868)

[node name="Sprite2D" type="Sprite2D" parent="Infestation" parent_id_path=PackedInt32Array(355065040) index="0" unique_id=1598886124]
position = Vector2(5611, 7911)
texture = ExtResource("10_bjulg")

[node name="Small" type="Sprite2D" parent="Infestation" parent_id_path=PackedInt32Array(355065040) index="1" unique_id=1247823016]
position = Vector2(5656, 7810)
texture = ExtResource("11_gd7nx")

[node name="Small2" type="Sprite2D" parent="Infestation" parent_id_path=PackedInt32Array(355065040) index="2" unique_id=675725779]
position = Vector2(5529, 7922)
texture = ExtResource("12_4lnny")

[node name="Spikes" type="Sprite2D" parent="Infestation" parent_id_path=PackedInt32Array(355065040) index="3" unique_id=534747083]
position = Vector2(5523, 7865)
texture = ExtResource("13_cnio0")

[node name="StaticBody2D" type="StaticBody2D" parent="Infestation" parent_id_path=PackedInt32Array(355065040) index="4" unique_id=774774152]
collision_layer = 4
collision_mask = 11

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Infestation/StaticBody2D" index="0" unique_id=1607348751]
polygon = PackedVector2Array(5508, 7941, 5508, 7907, 5489, 7910, 5495, 7889, 5484, 7868, 5465, 7861, 5482, 7852, 5499, 7832, 5532, 7822, 5554, 7825, 5564, 7848, 5608, 7842, 5637, 7844, 5641, 7795, 5643, 7768, 5662, 7759, 5685, 7772, 5684, 7799, 5673, 7826, 5669, 7860, 5669, 7949, 5640, 7976, 5587, 7980, 5546, 7945)

[node name="Gate" parent="Items" parent_id_path=PackedInt32Array(1841138687) index="0" unique_id=1935773457 instance=ExtResource("2_x73sx")]
position = Vector2(3272, -1031)

[node name="Box" parent="Items" parent_id_path=PackedInt32Array(1841138687) index="1" unique_id=735577757 instance=ExtResource("11_xqqjy")]
position = Vector2(5214, -38)

[node name="Scout" parent="Enemies" parent_id_path=PackedInt32Array(2032809497) index="0" unique_id=1622338306 instance=ExtResource("11_xorrk")]
position = Vector2(4127, 610)
collision_mask = 11

[node name="Bug" parent="Enemies" parent_id_path=PackedInt32Array(2032809497) index="1" unique_id=1870523157 instance=ExtResource("12_wq65m")]
position = Vector2(2653.9998, 979.99994)

[node name="Hunter" parent="Enemies" parent_id_path=PackedInt32Array(2032809497) index="2" unique_id=1897196269 instance=ExtResource("18_gd7nx")]
position = Vector2(4903, 1962)

[node name="Player" parent="." index="6" unique_id=258117993]
position = Vector2(-225, 2191)
metadata/_edit_group_ = true

[node name="CarPath" type="Path2D" parent="." index="8" unique_id=1660328968]
curve = SubResource("Curve2D_ex6t8")

[node name="Car" parent="CarPath" index="0" unique_id=1461765651 instance=ExtResource("14_xqqjy")]
position = Vector2(7688, -2273)
rotation = -2.283154

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="." index="9" unique_id=1899974978]
navigation_polygon = SubResource("NavigationPolygon_4lnny")

[connection signal="body_entered" from="Ground/House" to="Ground/House" method="_on_body_entered"]
[connection signal="player_entered" from="Ground/House" to="." method="_on_house_player_entered"]
[connection signal="player_exited" from="Ground/House" to="." method="_on_house_player_exited"]
[connection signal="player_entered_gate" from="Items/Gate" to="." method="_on_gate_player_entered_gate"]
